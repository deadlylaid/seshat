from collections import namedtuple

WEBHOOK_DATA = namedtuple('WEBHOOK', ('prq_status', 'bool_result', 'content', 'username','repository','prq_id', 'url'))

# 이미 존재하는 review에서 open, decline, merged webhook이 들어올 경우
EX_OP_WH = WEBHOOK_DATA('OPEN', True, '{"pullrequest": {"rendered": {"description": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "title": {"raw": "pullrequest-title", "markup": "markdown", "html": "<p>pullrequest-title</p>", "type": "rendered"}}, "type": "pullrequest", "description": "", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/diffstat/jadehan/data:eb8ba3cee4b6%0D5f665e43f3be?from_pullrequest_id=3"}, "commits": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/commits"}, "self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3"}, "comments": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/comments"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/merge"}, "html": {"href": "https://bitbucket.org/jadehan/data/pull-requests/3"}, "activity": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/activity"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/diff/jadehan/data:eb8ba3cee4b6%0D5f665e43f3be?from_pullrequest_id=3"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/approve"}, "statuses": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/statuses"}}, "title": "pullrequest-title", "close_source_branch": true, "reviewers": ["jadehan"], "id": 3, "destination": {"commit": {"hash": "5f665e43f3be", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/commit/5f665e43f3be"}, "html": {"href": "https://bitbucket.org/jadehan/data/commits/5f665e43f3be"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data"}, "html": {"href": "https://bitbucket.org/jadehan/data"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e434ccfcc%7D?ts=default"}}, "type": "repository", "name": "data", "full_name": "jadehan/data", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e434ccfcc}"}, "branch": {"name": "master"}}, "created_on": "2019-07-27T08:26:13.860091+00:00", "summary": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "source": {"commit": {"hash": "eb8ba3cee4b6", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/commit/eb8ba3cee4b6"}, "html": {"href": "https://bitbucket.org/jadehan/data/commits/eb8ba3cee4b6"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data"}, "html": {"href": "https://bitbucket.org/jadehan/data"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e434ccfcc%7D?ts=default"}}, "type": "repository", "name": "data", "full_name": "jadehan/data", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e434ccfcc}"}, "branch": {"name": "feature/test"}}, "comment_count": 0, "state": "OPEN", "task_count": 0, "participants": [], "reason": "", "updated_on": "2019-07-27T08:26:13.899590+00:00", "author": {"display_name": "Jade Han", "uuid": "{94083e9f-22eb-4301-ba21-eca392e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-03ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "merge_commit": null, "closed_by": null}, "repository": {"scm": "git", "website": "", "name": "data", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data"}, "html": {"href": "https://bitbucket.org/jadehan/data"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e434ccfcc%7D?ts=default"}}, "full_name": "jadehan/data", "owner": {"display_name": "Jade Han", "uuid": "{94083e9f-22eb-4301-ba21-eca392e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-03ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "type": "repository", "is_private": true, "uuid": "{7fa42f9b-8fe8-4d26-b016-411e434ccfcc}"}, "actor": {"display_name": "Jade Han", "uuid": "{94083e9f-22eb-4301-ba21-eca392e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-03ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}}', 'jadehan', 'data', '3', 'https://bitbucket.org/jadehan/data/pull-requests/3')
EX_DC_WH = WEBHOOK_DATA('DECLINED', True, '{"pullrequest": {"rendered": {"description": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "title": {"raw": "pullrequest-title", "markup": "markdown", "html": "<p>pullrequest-title</p>", "type": "rendered"}}, "type": "pullrequest", "description": "", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/diffstat/jadehan/data:eb8ba3cee4b6%0D5f665e43f3be?from_pullrequest_id=3"}, "commits": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/commits"}, "self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3"}, "comments": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/comments"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/merge"}, "html": {"href": "https://bitbucket.org/jadehan/data/pull-requests/3"}, "activity": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/activity"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/diff/jadehan/data:eb8ba3cee4b6%0D5f665e43f3be?from_pullrequest_id=3"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/approve"}, "statuses": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/statuses"}}, "title": "pullrequest-title", "close_source_branch": true, "reviewers": ["jadehan"], "id": 3, "destination": {"commit": {"hash": "5f665e43f3be", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/commit/5f665e43f3be"}, "html": {"href": "https://bitbucket.org/jadehan/data/commits/5f665e43f3be"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data"}, "html": {"href": "https://bitbucket.org/jadehan/data"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e434ccfcc%7D?ts=default"}}, "type": "repository", "name": "data", "full_name": "jadehan/data", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e434ccfcc}"}, "branch": {"name": "master"}}, "created_on": "2019-07-27T08:26:13.860091+00:00", "summary": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "source": {"commit": {"hash": "eb8ba3cee4b6", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/commit/eb8ba3cee4b6"}, "html": {"href": "https://bitbucket.org/jadehan/data/commits/eb8ba3cee4b6"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data"}, "html": {"href": "https://bitbucket.org/jadehan/data"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e434ccfcc%7D?ts=default"}}, "type": "repository", "name": "data", "full_name": "jadehan/data", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e434ccfcc}"}, "branch": {"name": "feature/test"}}, "comment_count": 0, "state": "DECLINED", "task_count": 0, "participants": [], "reason": "", "updated_on": "2019-07-27T08:26:13.899590+00:00", "author": {"display_name": "Jade Han", "uuid": "{94083e9f-22eb-4301-ba21-eca392e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-03ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "merge_commit": null, "closed_by": null}, "repository": {"scm": "git", "website": "", "name": "data", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data"}, "html": {"href": "https://bitbucket.org/jadehan/data"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e434ccfcc%7D?ts=default"}}, "full_name": "jadehan/data", "owner": {"display_name": "Jade Han", "uuid": "{94083e9f-22eb-4301-ba21-eca392e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-03ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "type": "repository", "is_private": true, "uuid": "{7fa42f9b-8fe8-4d26-b016-411e434ccfcc}"}, "actor": {"display_name": "Jade Han", "uuid": "{94083e9f-22eb-4301-ba21-eca392e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-03ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}}', 'jadehan', 'data', '3', 'https://bitbucket.org/jadehan/data/pull-requests/3')
EX_MG_WH = WEBHOOK_DATA('MERGED', True, '{"pullrequest": {"rendered": {"description": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "title": {"raw": "pullrequest-title", "markup": "markdown", "html": "<p>pullrequest-title</p>", "type": "rendered"}}, "type": "pullrequest", "description": "", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/diffstat/jadehan/data:eb8ba3cee4b6%0D5f665e43f3be?from_pullrequest_id=3"}, "commits": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/commits"}, "self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3"}, "comments": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/comments"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/merge"}, "html": {"href": "https://bitbucket.org/jadehan/data/pull-requests/3"}, "activity": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/activity"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/diff/jadehan/data:eb8ba3cee4b6%0D5f665e43f3be?from_pullrequest_id=3"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/approve"}, "statuses": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/pullrequests/3/statuses"}}, "title": "pullrequest-title", "close_source_branch": true, "reviewers": ["jadehan"], "id": 3, "destination": {"commit": {"hash": "5f665e43f3be", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/commit/5f665e43f3be"}, "html": {"href": "https://bitbucket.org/jadehan/data/commits/5f665e43f3be"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data"}, "html": {"href": "https://bitbucket.org/jadehan/data"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e434ccfcc%7D?ts=default"}}, "type": "repository", "name": "data", "full_name": "jadehan/data", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e434ccfcc}"}, "branch": {"name": "master"}}, "created_on": "2019-07-27T08:26:13.860091+00:00", "summary": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "source": {"commit": {"hash": "eb8ba3cee4b6", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data/commit/eb8ba3cee4b6"}, "html": {"href": "https://bitbucket.org/jadehan/data/commits/eb8ba3cee4b6"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data"}, "html": {"href": "https://bitbucket.org/jadehan/data"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e434ccfcc%7D?ts=default"}}, "type": "repository", "name": "data", "full_name": "jadehan/data", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e434ccfcc}"}, "branch": {"name": "feature/test"}}, "comment_count": 0, "state": "MERGED", "task_count": 0, "participants": [], "reason": "", "updated_on": "2019-07-27T08:26:13.899590+00:00", "author": {"display_name": "Jade Han", "uuid": "{94083e9f-22eb-4301-ba21-eca392e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-03ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "merge_commit": null, "closed_by": null}, "repository": {"scm": "git", "website": "", "name": "data", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/data"}, "html": {"href": "https://bitbucket.org/jadehan/data"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e434ccfcc%7D?ts=default"}}, "full_name": "jadehan/data", "owner": {"display_name": "Jade Han", "uuid": "{94083e9f-22eb-4301-ba21-eca392e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-03ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "type": "repository", "is_private": true, "uuid": "{7fa42f9b-8fe8-4d26-b016-411e434ccfcc}"}, "actor": {"display_name": "Jade Han", "uuid": "{94083e9f-22eb-4301-ba21-eca392e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94083e9f-22eb-4301-ba21-eca392e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-03ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}}', 'jadehan', 'data', '3', 'https://bitbucket.org/jadehan/data/pull-requests/3')

# 존재하지 않는 review에서 open, decline, merged webhook이 들어올 경우
UN_OP_WH = WEBHOOK_DATA('OPEN', True, '{"pullrequest": {"rendered": {"description": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "title": {"raw": "scd-title", "markup": "markdown", "html": "<p>scd-title</p>", "type": "rendered"}}, "type": "pullrequest", "description": "", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/diffstat/jadehan/hmsrepo:eb8ba1cee4b6%0D5f665e41f1be?from_pullrequest_id=1"}, "commits": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/commits"}, "self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1"}, "comments": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/comments"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/merge"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo/pull-requests/1"}, "activity": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/activity"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/diff/jadehan/hmsrepo:eb8ba1cee4b6%0D5f665e41f1be?from_pullrequest_id=1"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/approve"}, "statuses": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/statuses"}}, "title": "pullrequest-title", "close_source_branch": true, "reviewers": ["jadehan"], "id": 1, "destination": {"commit": {"hash": "5f665e41f1be", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/commit/5f665e41f1be"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo/commits/5f665e41f1be"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e414ccfcc%7D?ts=default"}}, "type": "repository", "name": "hmsrepo", "full_name": "jadehan/hmsrepo", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e414ccfcc}"}, "branch": {"name": "master"}}, "created_on": "2019-07-27T08:26:11.860091+00:00", "summary": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "source": {"commit": {"hash": "eb8ba1cee4b6", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/commit/eb8ba1cee4b6"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo/commits/eb8ba1cee4b6"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e414ccfcc%7D?ts=default"}}, "type": "repository", "name": "hmsrepo", "full_name": "jadehan/hmsrepo", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e414ccfcc}"}, "branch": {"name": "feature/hmsrepo"}}, "comment_count": 0, "state": "OPEN", "task_count": 0, "participants": [], "reason": "", "updated_on": "2019-07-27T08:26:11.899590+00:00", "author": {"display_name": "Jade Han", "uuid": "{94081e9f-22eb-4101-ba21-eca192e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-01ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "merge_commit": null, "closed_by": null}, "repository": {"scm": "git", "website": "", "name": "hmsrepo", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e414ccfcc%7D?ts=default"}}, "full_name": "jadehan/hmsrepo", "owner": {"display_name": "Jade Han", "uuid": "{94081e9f-22eb-4101-ba21-eca192e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-01ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "type": "repository", "is_private": true, "uuid": "{7fa42f9b-8fe8-4d26-b016-411e414ccfcc}"}, "actor": {"display_name": "Jade Han", "uuid": "{94081e9f-22eb-4101-ba21-eca192e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-01ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}}', 'jadehan', 'hmsrepo', '1', 'https://bitbucket.org/jadehan/hmsrepo/pull-requests/1')
UN_DC_WH = WEBHOOK_DATA('DECLINED', False, '{"pullrequest": {"rendered": {"description": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "title": {"raw": "scd-title", "markup": "markdown", "html": "<p>scd-title</p>", "type": "rendered"}}, "type": "pullrequest", "description": "", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/diffstat/jadehan/hmsrepo:eb8ba1cee4b6%0D5f665e41f1be?from_pullrequest_id=1"}, "commits": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/commits"}, "self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1"}, "comments": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/comments"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/merge"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo/pull-requests/1"}, "activity": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/activity"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/diff/jadehan/hmsrepo:eb8ba1cee4b6%0D5f665e41f1be?from_pullrequest_id=1"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/approve"}, "statuses": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/statuses"}}, "title": "pullrequest-title", "close_source_branch": true, "reviewers": ["jadehan"], "id": 1, "destination": {"commit": {"hash": "5f665e41f1be", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/commit/5f665e41f1be"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo/commits/5f665e41f1be"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e414ccfcc%7D?ts=default"}}, "type": "repository", "name": "hmsrepo", "full_name": "jadehan/hmsrepo", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e414ccfcc}"}, "branch": {"name": "master"}}, "created_on": "2019-07-27T08:26:11.860091+00:00", "summary": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "source": {"commit": {"hash": "eb8ba1cee4b6", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/commit/eb8ba1cee4b6"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo/commits/eb8ba1cee4b6"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e414ccfcc%7D?ts=default"}}, "type": "repository", "name": "hmsrepo", "full_name": "jadehan/hmsrepo", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e414ccfcc}"}, "branch": {"name": "feature/hmsrepo"}}, "comment_count": 0, "state": "DECLINED", "task_count": 0, "participants": [], "reason": "", "updated_on": "2019-07-27T08:26:11.899590+00:00", "author": {"display_name": "Jade Han", "uuid": "{94081e9f-22eb-4101-ba21-eca192e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-01ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "merge_commit": null, "closed_by": null}, "repository": {"scm": "git", "website": "", "name": "hmsrepo", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e414ccfcc%7D?ts=default"}}, "full_name": "jadehan/hmsrepo", "owner": {"display_name": "Jade Han", "uuid": "{94081e9f-22eb-4101-ba21-eca192e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-01ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "type": "repository", "is_private": true, "uuid": "{7fa42f9b-8fe8-4d26-b016-411e414ccfcc}"}, "actor": {"display_name": "Jade Han", "uuid": "{94081e9f-22eb-4101-ba21-eca192e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-01ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}}', 'jadehan', 'hmsrepo', '1', 'https://bitbucket.org/jadehan/hmsrepo/pull-requests/1')
UN_MG_WH = WEBHOOK_DATA('MERGED', False, '{"pullrequest": {"rendered": {"description": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "title": {"raw": "scd-title", "markup": "markdown", "html": "<p>scd-title</p>", "type": "rendered"}}, "type": "pullrequest", "description": "", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/diffstat/jadehan/hmsrepo:eb8ba1cee4b6%0D5f665e41f1be?from_pullrequest_id=1"}, "commits": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/commits"}, "self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1"}, "comments": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/comments"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/merge"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo/pull-requests/1"}, "activity": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/activity"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/diff/jadehan/hmsrepo:eb8ba1cee4b6%0D5f665e41f1be?from_pullrequest_id=1"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/approve"}, "statuses": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/pullrequests/1/statuses"}}, "title": "pullrequest-title", "close_source_branch": true, "reviewers": ["jadehan"], "id": 1, "destination": {"commit": {"hash": "5f665e41f1be", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/commit/5f665e41f1be"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo/commits/5f665e41f1be"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e414ccfcc%7D?ts=default"}}, "type": "repository", "name": "hmsrepo", "full_name": "jadehan/hmsrepo", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e414ccfcc}"}, "branch": {"name": "master"}}, "created_on": "2019-07-27T08:26:11.860091+00:00", "summary": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "source": {"commit": {"hash": "eb8ba1cee4b6", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo/commit/eb8ba1cee4b6"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo/commits/eb8ba1cee4b6"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e414ccfcc%7D?ts=default"}}, "type": "repository", "name": "hmsrepo", "full_name": "jadehan/hmsrepo", "uuid": "{7fa42f9b-8fe8-4d26-b016-411e414ccfcc}"}, "branch": {"name": "feature/hmsrepo"}}, "comment_count": 0, "state": "MERGED", "task_count": 0, "participants": [], "reason": "", "updated_on": "2019-07-27T08:26:11.899590+00:00", "author": {"display_name": "Jade Han", "uuid": "{94081e9f-22eb-4101-ba21-eca192e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-01ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "merge_commit": null, "closed_by": null}, "repository": {"scm": "git", "website": "", "name": "hmsrepo", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jadehan/hmsrepo"}, "html": {"href": "https://bitbucket.org/jadehan/hmsrepo"}, "avatar": {"href": "https://bytebucket.org/ravatar/%7B7fa42f9b-8fe8-4d26-b016-411e414ccfcc%7D?ts=default"}}, "full_name": "jadehan/hmsrepo", "owner": {"display_name": "Jade Han", "uuid": "{94081e9f-22eb-4101-ba21-eca192e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-01ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}, "type": "repository", "is_private": true, "uuid": "{7fa42f9b-8fe8-4d26-b016-411e414ccfcc}"}, "actor": {"display_name": "Jade Han", "uuid": "{94081e9f-22eb-4101-ba21-eca192e1459d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D"}, "html": {"href": "https://bitbucket.org/%7B94081e9f-22eb-4101-ba21-eca192e1459d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a0e46511f59d562fee8fb2d/bba5eb84-01ac-4a69-acb7-4b86efde422e/128"}}, "nickname": "TestAccount", "type": "user", "account_id": "5a0e46511f59d562fee8fb2d"}}', 'jadehan', 'hmsrepo', '1', 'https://bitbucket.org/jadehan/hmsrepo/pull-requests/1')
